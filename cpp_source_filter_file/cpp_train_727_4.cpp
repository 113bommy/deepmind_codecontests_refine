#include<iostream> 
#include<algorithm>
using namespace std;

int solve(int A[], int n, int minw) {
	int cnt = 0;
	int B[n], T[10001];
	bool V[n];
	for (int i = 0; i < n; i++) {
		B[i] = A[i];
		V[i] = false;
	}

	sort(B, B + n);
	for (int i = 0; i < n; i++) {
		T[B[i]] = i; //?????????????????????????????§?????????????????????????????????????????????
	}
	for (int i = 0; i < n; i++)	{
		if (V[i]) continue;
		int cur = i, S = 0, m = 10000, an = 0;
		while(1) {
			V[cur] = true; //????????????
			an++;???//?°???°?????????????????°
			int v = A[cur];???
			m = min(m, v); //?°???°???????????????????°????
			S += v; //????????????
			cur = T[v]; //??¬??\??????????????\????????????
			if (V[cur]) break; //????????????????????????????????????
		}
		cnt += min(S + (an - 2) * m, S + m + (an + 1) * minw); //????????§????????????while????????§??£?¨?
	}
	return cnt;
}

int main() {
	int n;
	cin >> n;
	int A[n];
	int minw = 10000;
	for (int i = 0; i < n; i++)	{
		cin >> A[i];
		minw = min(minw, A[i]);
	}

	int min = solve(A, n, minw);

	cout << min << endl;

	return 0;
}