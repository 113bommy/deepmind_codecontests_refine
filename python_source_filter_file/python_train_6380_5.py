for j in range(int(input())):
    p,q=map(int,input().split())
    if p%q:
        print(p);continue
    i,x,pr=2,p,[]
    while i*i<q:
        if x%i==0:
            pr.append(i)
            while x%i==0:
                x//=i
        i+=1
    if x>1:
        pr.append(x);x=1
    for h in pr:
        y=p
        while y%q==0:
            y//=h
        if y>x:
            x=y
    print(x)
'''10
246857872446986130 713202678
857754240051582063 933416507
873935277189052612 530795521
557307185726829409 746530097
173788420792057536 769449696
101626841876448103 132345797
598448092106640578 746411314
733629261048200000 361714100
981271355542147402 38
559754147245184151 431517529
'''